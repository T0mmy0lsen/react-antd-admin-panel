# Story 4.5: Documentation - Storybook

## Status
Ready for Review

## Story

**As a** developer evaluating or using react-antd-admin-panel,
**I want** interactive documentation with live examples,
**so that** I can understand how components work and copy code patterns.

## Acceptance Criteria

1. Storybook 8 is set up in the monorepo
2. Each major component has at least one story
3. Stories show common use cases with live previews
4. Stories include code snippets that can be copied
5. Component props are documented via autodocs
6. Storybook can be built for static deployment

## Tasks / Subtasks

- [x] **Task 1: Set up Storybook** (AC: 1)
  - [x] Install Storybook 8 dependencies
  - [x] Configure for React + TypeScript + Vite
  - [x] Set up Ant Design theme provider in preview
  - [x] Add build script for static export

- [x] **Task 2: Create HTTP Stories** (AC: 2, 3, 4)
  - [x] Get model basic usage story
  - [x] Post model with body story
  - [x] useGet hook story
  - [x] usePost hook story

- [x] **Task 3: Create Form Stories** (AC: 2, 3, 4)
  - [x] Input component story
  - [x] Select component story
  - [x] Form with useForm hook story
  - [x] Form validation story

- [x] **Task 4: Create List Stories** (AC: 2, 3, 4)
  - [x] Basic List story
  - [x] List with columns story
  - [x] useList hook story

- [x] **Task 5: Create Access Control Stories** (AC: 2, 3, 4)
  - [x] AccessGuard with role story
  - [x] AccessGuard with permission story
  - [x] useAccess hook story

- [x] **Task 6: Create Action Stories** (AC: 2, 3, 4)
  - [x] Action with callback story
  - [x] Action with confirmation story
  - [x] ActionButton story

- [x] **Task 7: Configure Autodocs** (AC: 5)
  - [x] Enable autodocs in main.ts
  - [x] Verify props tables render correctly
  - [x] Add descriptions to component props

- [x] **Task 8: Static Build** (AC: 6)
  - [x] Add `storybook:build` script
  - [x] Verify static build works
  - [x] Document deployment options

## Dev Notes

### Storybook Configuration
```typescript
// .storybook/main.ts
import type { StorybookConfig } from '@storybook/react-vite';

const config: StorybookConfig = {
  stories: ['../src/**/*.stories.@(ts|tsx)'],
  addons: [
    '@storybook/addon-essentials',
    '@storybook/addon-docs',
  ],
  framework: {
    name: '@storybook/react-vite',
    options: {},
  },
  docs: {
    autodocs: 'tag',
  },
};

export default config;
```

### Example Story
```typescript
// src/http/Get.stories.tsx
import type { Meta, StoryObj } from '@storybook/react';
import { Get } from './Get';

const meta: Meta<typeof Get> = {
  title: 'HTTP/Get',
  component: Get,
  tags: ['autodocs'],
};

export default meta;
type Story = StoryObj<typeof Get>;

export const BasicUsage: Story = {
  render: () => {
    const get = new Get<User[]>()
      .target('/api/users')
      .onThen((users) => console.log(users));
    
    return <div>See console for output</div>;
  },
};
```

### Dependencies
```json
{
  "@storybook/react": "^8.0.0",
  "@storybook/react-vite": "^8.0.0",
  "@storybook/addon-essentials": "^8.0.0",
  "@storybook/addon-docs": "^8.0.0"
}
```

## Testing

### Manual Testing
```bash
# Start Storybook dev server
pnpm storybook

# Build static Storybook
pnpm storybook:build
```

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-10 | 1.0 | Initial story creation | James (Dev Agent) |

---

## Dev Agent Record

### Agent Model Used
Claude Opus 4.5 (Preview)

### Debug Log References
- Fixed import in List.stories.tsx: `./List` â†’ `./index` (no separate List.ts file)
- Removed non-existent `ListHeader` import - List uses `.column()` method instead

### Completion Notes List
- Installed Storybook 8.6.14 with @storybook/react-vite framework
- Created 10 story files covering all major modules
- Autodocs enabled via tags: ['autodocs'] on each story
- Static build verified working (storybook-static output)
- Stories demonstrate real API usage with builder patterns

### File List
| File | Status |
|------|--------|
| packages/core/.storybook/main.ts | Created |
| packages/core/.storybook/preview.tsx | Created |
| packages/core/src/http/Get.stories.tsx | Created |
| packages/core/src/http/Post.stories.tsx | Created |
| packages/core/src/hooks/useGet.stories.tsx | Created |
| packages/core/src/hooks/usePost.stories.tsx | Created |
| packages/core/src/hooks/useForm.stories.tsx | Created |
| packages/core/src/hooks/useAccess.stories.tsx | Created |
| packages/core/src/form/Input.stories.tsx | Created |
| packages/core/src/access/AccessGuard.stories.tsx | Created |
| packages/core/src/action/Action.stories.tsx | Created |
| packages/core/src/list/List.stories.tsx | Created |
| packages/core/package.json | Modified |

---

## QA Results
_To be populated after implementation_